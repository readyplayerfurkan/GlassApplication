<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ürün Listesi</title>
    <style>
        /* Sayfa numaraları kutusu */
        .page-num-container {
            display: flex;
            overflow-x: auto; /* Yalnızca yatay kaydırma */
            white-space: nowrap; /* Sayfa numaralarını yatayda sıralar */
            padding: 10px 0;
            margin: 0 auto;
            width: 100%; /* Kutu genişliği */
        }

            .page-num-container .page-link {
                margin: 0 5px;
                cursor: pointer;
            }

            /* Sayfa numaraları kutusu içinde kaydırma efekti */
            .page-num-container::-webkit-scrollbar {
                height: 8px;
            }

            .page-num-container::-webkit-scrollbar-thumb {
                background: #888;
                border-radius: 4px;
            }

                .page-num-container::-webkit-scrollbar-thumb:hover {
                    background: #555;
                }

        /* Ürün kartı stil */
        .card-body {
            background-color: #f9f9f9;
            padding: 10px;
        }
    </style>
</head>
<body>   
    @model GlassApplication.Models.ÜrünListViewModel
    @using Azure.Core
    <div class="row">
        @foreach (var ürün in Model.Ürünler)
        {
            if (ürün.IsItSearched)
            {
                <div class="col-sm-4 p-3">
                    <div class="bs-component">
                        <div class="card mb-3">
                            <div class="card-header">
                                <div class="row">
                                    <div class="col-2 d-flex align-items-center justify-content-center" style="min-height: 40px;">
                                        <div class="w-100 h-100 d-flex justify-content-center align-items-center border border-primary" style="background-color: white; border-color: cornflowerblue;">
                                        </div>
                                    </div>
                                    <div class="col-10 d-flex flex-column" style="min-height: 40px;">
                                        <div class="d-flex align-items-center justify-content-start" style="padding-left: 3px;">
                                            <strong><p class="m-0" style="font-size: 16px;">@ürün.Kategori</p></strong>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="card-body">
                                <div class="row">
                                    <div class="col-2 d-flex align-items-center justify-content-center" style="min-height: 40px;">
                                        <div class="w-100 h-100 d-flex justify-content-center align-items-center" style="background-color: cornsilk;">
                                            <strong>@ürün.ID</strong>
                                        </div>
                                    </div>
                                    <div class="col-10 d-flex flex-column" style="min-height: 40px;">
                                        <div class="d-flex align-items-start" style="padding-left: 3px;">
                                            <strong><p class="m-0" style="font-size: 16px;">@ürün.Renk @ürün.Özellik</p></strong>
                                        </div>
                                        <div class="d-flex align-items-start" style="padding-left: 3px;">
                                            <p class="m-0" style="font-size: 8px;">Alt açıklama buraya gelecek. Bu metin, üstteki metnin font büyüklüğünün yarısı kadar olacak.</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="row mt-2">
                                    <div class="col-2 d-flex align-items-center justify-content-center" style="min-height: 40px;">
                                        <div class="w-100 h-100 d-flex justify-content-center align-items-center" style="background-color: mediumblue;">
                                            <strong>@ürün.Kalınlık</strong>
                                        </div>
                                    </div>
                                    <div class="col-10 d-flex flex-column" style="min-height: 40px;">
                                        <div class="d-flex align-items-start" style="padding-left: 3px;">
                                            <strong><p class="m-0" style="font-size: 16px;">@ürün.Kalınlık mm</p></strong>
                                        </div>
                                        <div class="d-flex align-items-start" style="padding-left: 3px;">
                                            <p class="m-0" style="font-size: 8px;">Alt açıklama buraya gelecek. Bu metin, üstteki metnin font büyüklüğünün yarısı kadar olacak.</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="row mt-2">
                                    <div class="col-2 d-flex align-items-center justify-content-center" style="min-height: 40px;">
                                        <div class="w-100 h-100 d-flex justify-content-center align-items-center border border-success" style="background-color: white;">
                                        </div>
                                    </div>
                                    <div class="col-10 d-flex flex-column" style="min-height: 40px;">
                                        <div class="d-flex align-items-start" style="padding-left: 3px;">
                                            <strong><p class="m-0" style="font-size: 16px;">Kenar İşlemi</p></strong>
                                        </div>
                                        <div class="d-flex align-items-start" style="padding-left: 3px;">
                                            <p class="m-0" style="font-size: 8px;">@ürün.Kenarİşlemi</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
        }
    </div>

    <!-- Sayfalama -->
    <div class="row">
        <div class="col-12 text-center">
            <ul class="pagination justify-content-center flex-wrap">
                <li class="page-item @(Model.MevcutSayfa == 1 ? "disabled" : "")">
                    <a class="page-link" href="?category=@ViewData["category"]&sayfa=1" aria-label="İlk">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                <li class="page-item @(Model.MevcutSayfa == 1 ? "disabled" : "")">
                    <a class="page-link" href="?category=@ViewData["category"]&sayfa=@(Model.MevcutSayfa - 1)" aria-label="Önceki">
                        <span aria-hidden="true">&lsaquo;</span>
                    </a>
                </li>

                @* Sayfa numaraları: sadece aktif sayfanın çevresini göster *@
                @{
                    int startPage = Model.MevcutSayfa - 2;
                    int endPage = Model.MevcutSayfa + 2;

                    if (startPage < 1)
                    {
                        endPage += (1 - startPage);
                        startPage = 1;
                    }

                    if (endPage > Model.ToplamSayfa)
                    {
                        endPage = Model.ToplamSayfa;
                    }

                    if (startPage > 1)
                    {
                        <li class="page-item disabled"><span class="page-link">...</span></li>
                    }

                    for (int i = startPage; i <= endPage; i++)
                    {
                        <li class="page-item @(i == Model.MevcutSayfa ? "active" : "")">
                            <a class="page-link" href="?category=@ViewData["category"]&sayfa=@i">@i</a>
                        </li>
                    }

                    if (endPage < Model.ToplamSayfa)
                    {
                        <li class="page-item disabled"><span class="page-link">...</span></li>
                    }
                }

                <li class="page-item @(Model.MevcutSayfa == Model.ToplamSayfa ? "disabled" : "")">
                    <a class="page-link" href="?category=@ViewData["category"]&sayfa=@(Model.MevcutSayfa + 1)" aria-label="Sonraki">
                        <span aria-hidden="true">&rsaquo;</span>
                    </a>
                </li>
                <li class="page-item @(Model.MevcutSayfa == Model.ToplamSayfa ? "disabled" : "")">
                    <a class="page-link" href="?category=@ViewData["category"]&sayfa=@Model.ToplamSayfa" aria-label="Son">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>

</body>
</html>

@model List<GlassApplication.Models.ÜrünModel>

<div class="row">
    @foreach (var ürün in Model)
    {
        if (ürün.IsItSearched)
        {
            <div class="col-sm-4 p-3">
                <div class="bs-component">
                    <div class="card mb-3">
                        <!-- Kategori adı ve Görsel -->
                        <div class="card-header">
                            <div class="row">
                                <div class="col-2 d-flex align-items-center justify-content-center" style="min-height: 40px;">
                                    <div class="w-100 h-100 d-flex justify-content-center align-items-center border border-primary" style="background-color: white; border-color: cornflowerblue;">
                                    </div>
                                </div>

                                <!-- Yazı ve Açıklama (5'te 4) -->
                                <div class="col-10 d-flex flex-column" style="min-height: 40px;">
                                    <!-- Sol üstte sabit açıklama -->
                                    <div class="d-flex align-items-center justify-content-start" style="padding-left: 3px;">
                                        <strong><p class="m-0" style="font-size: 16px;">@ürün.Kategori</p></strong>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Renk ve Özellik: Kutucuk yerine metin olarak ve kutucuk sol tarafta -->
                        <div class="card-body">
                            <div class="row">
                                <div class="col-2 d-flex align-items-center justify-content-center" style="min-height: 40px;">
                                    <div class="w-100 h-100 d-flex justify-content-center align-items-center" style="background-color: cornsilk;">
                                        <strong>@ürün.ID</strong>
                                    </div>
                                </div>

                                <!-- Yazı ve Açıklama (5'te 4) -->
                                <div class="col-10 d-flex flex-column" style="min-height: 40px;">
                                    <!-- Sol üstte sabit açıklama -->
                                    <div class="d-flex align-items-start" style="padding-left: 3px;">
                                        <strong><p class="m-0" style="font-size: 16px;">@ürün.Renk @ürün.Özellik</p></strong>
                                    </div>

                                    <!-- Alt açıklama alanı (font büyüklüğü yarısı) -->
                                    <div class="d-flex align-items-start" style="padding-left: 3px;">
                                        <p class="m-0" style="font-size: 8px;">Alt açıklama buraya gelecek. Bu metin, üstteki metnin font büyüklüğünün yarısı kadar olacak.</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Kalınlık -->
                            <div class="row mt-2">
                                <div class="col-2 d-flex align-items-center justify-content-center" style="min-height: 40px;">
                                    <div class="w-100 h-100 d-flex justify-content-center align-items-center" style="background-color: mediumblue;">
                                        <strong>@ürün.Kalınlık</strong>
                                    </div>
                                </div>

                                <!-- Yazı ve Açıklama (5'te 4) -->
                                <div class="col-10 d-flex flex-column" style="min-height: 40px;">
                                    <!-- Sol üstte sabit açıklama -->
                                    <div class="d-flex align-items-start" style="padding-left: 3px;">
                                        <strong><p class="m-0" style="font-size: 16px;">@ürün.Kalınlık mm</p></strong>
                                    </div>

                                    <!-- Alt açıklama alanı (font büyüklüğü yarısı) -->
                                    <div class="d-flex align-items-start" style="padding-left: 3px;">
                                        <p class="m-0" style="font-size: 8px;">Alt açıklama buraya gelecek. Bu metin, üstteki metnin font büyüklüğünün yarısı kadar olacak.</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Özellikler -->
                            <div class="row mt-2">
                                <!-- Tek Kutucuk (Cornsilk) -->
                                <div class="col-2 d-flex align-items-center justify-content-center" style="min-height: 40px;">
                                    <div class="w-100 h-100 d-flex justify-content-center align-items-center border border-success" style="background-color: white;">
                                        
                                    </div>
                                </div>

                                <!-- Yazılar ve Açıklamalar (Kutucuğun yanında üst üste) -->
                                <div class="col-10 d-flex flex-column" style="min-height: 40px;">
                                    <!-- Kenar İşlemi Başlık -->
                                    <div class="d-flex align-items-start" style="padding-left: 3px;">
                                        <strong><p class="m-0" style="font-size: 16px;">Kenar İşlemi</p></strong>
                                    </div>

                                    <!-- Kenar İşlemi Alt Açıklama -->
                                    <div class="d-flex align-items-start" style="padding-left: 3px;">
                                        <p class="m-0" style="font-size: 8px;">@ürün.Kenarİşlemi</p>
                                    </div>

                                    <!-- Yüzey İşlemi Başlık -->
                                    <div class="d-flex align-items-start" style="padding-left: 3px;">
                                        <strong><p class="m-0" style="font-size: 16px;">Yüzey İşlemi</p></strong>
                                    </div>

                                    <!-- Yüzey İşlemi Alt Açıklama -->
                                    <div class="d-flex align-items-start" style="padding-left: 3px;">
                                        <p class="m-0" style="font-size: 8px;">@ürün.Yüzeyİşlemi</p>
                                    </div>

                                    <!-- Isıl İşlemi Başlık -->
                                    <div class="d-flex align-items-start" style="padding-left: 3px;">
                                        <strong><p class="m-0" style="font-size: 16px;">Isıl İşlemi</p></strong>
                                    </div>

                                    <!-- Isıl İşlemi Alt Açıklama -->
                                    <div class="d-flex align-items-start" style="padding-left: 3px;">
                                        <p class="m-0" style="font-size: 8px;">@ürün.Isılİşlem</p>
                                    </div>

                                    <!-- Laminasyon İşlemi Başlık -->
                                    <div class="d-flex align-items-start" style="padding-left: 3px;">
                                        <strong><p class="m-0" style="font-size: 16px;">Laminasyon</p></strong>
                                    </div>

                                    <!-- Laminasyon İşlemi Alt Açıklama -->
                                    <div class="d-flex align-items-start" style="padding-left: 3px;">
                                        <p class="m-0" style="font-size: 8px;">@ürün.Laminasyon</p>
                                    </div>

                                    <!-- Kapama Başlık -->
                                    <div class="d-flex align-items-start" style="padding-left: 3px;">
                                        <strong><p class="m-0" style="font-size: 16px;">Kapama</p></strong>
                                    </div>

                                    <!-- Kapama Alt Açıklama -->
                                    <div class="d-flex align-items-start" style="padding-left: 3px;">
                                        <p class="m-0" style="font-size: 8px;">@ürün.Kapama</p>
                                    </div>
                                </div>
                            </div>

                            <div class="row mt-2">
                                <div class="col-2 d-flex align-items-center justify-content-center" style="min-height: 40px;">
                                    <div class="w-100 h-100 d-flex justify-content-center align-items-center" style="background-color: cornsilk;">
                                        <strong>@ürün.ID</strong>
                                    </div>
                                </div>

                                <!-- Yazı ve Açıklama (5'te 4) -->
                                <div class="col-10 d-flex flex-column" style="min-height: 40px;">
                                    <!-- Sol üstte sabit açıklama -->
                                    <div class="d-flex align-items-start" style="padding-left: 3px;">
                                        <strong><p class="m-0" style="font-size: 16px;">@ürün.Kalınlık mm @ürün.Renk @ürün.Özellik @ürün.Kenarİşlemi</p></strong>
                                    </div>                                    
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-2 d-flex align-items-center justify-content-center" style="min-height: 40px;">
                                    <div class="w-100 h-100 d-flex justify-content-center align-items-center">
                                    </div>
                                </div>

                                <!-- Yazı ve Açıklama (5'te 4) -->
                                <div class="col-10 d-flex flex-column" style="min-height: 40px;">
                                    <!-- Sol üstte sabit açıklama -->
@*                                     <div class="d-flex align-items-start" style="padding-left: 3px;">
                                        <strong><p class="m-0" style="font-size: 16px;">@ürün.Kalınlık mm @ürün.Renk @ürün.Özellik @ürün.Kenarİşlemi</p></strong>
                                    </div> *@

                                    <!-- Alt açıklama alanı (font büyüklüğü yarısı) -->
                                    <div class="d-flex align-items-start" style="padding-left: 3px;">
                                        <p class="m-0" style="font-size: 8px;">
                                            Birim Fiyatı    : @ürün.BirimFiyatı TL
                                            <br />
                                            Stok Durumu     : @ürün.StokDurumu m2
                                            <br />
                                            Teslim Süresi   : @ürün.TeslimSüresi gün
                                            <br />
                                            Max Ölçü        : @ürün.MaxÖlçü
                                        </p>
                                    </div>
                                </div>
                            </div>                            
                        </div>

                        <div class="card-footer text-center">
                            <button type="button"
                                    class="btn btn-primary w-100 siparis-ver-buton"
                                    data-bs-toggle="modal"
                                    data-bs-target="#siparisModal"
                                    data-urunadi="@ürün.Kategori - @ürün.Renk - @ürün.Özellik"
                                    data-id="@ürün.ID"
                                    data-kalinlik="@ürün.Kalınlık"
                                    data-kenarislemi="@ürün.Kenarİşlemi">
                                Bu üründen sipariş ver
                            </button>

                        </div>
                    </div>
                </div>
            </div>                       
        }       
    }

    <!-- Modal -->
    <div class="modal fade" id="siparisModal" tabindex="-1" aria-labelledby="siparisModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <form asp-controller="Siparis" asp-action="Gonder" method="post">
                    <div class="modal-header">
                        <h5 class="modal-title" id="siparisModalLabel">Sipariş Formu</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" name="UrunAdi" id="modalUrunAdi" />
                        <input type="hidden" name="UrunID" id="modalUrunID" />
                        <input type="hidden" name="Kalinlik" id="modalKalinlik" />
                        <input type="hidden" name="KenarIslemi" id="modalKenarIslemi" />

                        <div class="mb-3">
                            <label>Ad Soyad</label>
                            <input type="text" class="form-control" name="AdSoyad" required />
                        </div>
                        <div class="mb-3">
                            <label>Telefon</label>
                            <input type="text" class="form-control" name="Telefon" required />
                        </div>
                        <div class="mb-3">
                            <label>E-Posta</label>
                            <input type="email" class="form-control" name="EPosta" required />
                        </div>
                        <div class="mb-3">
                            <label>Adres</label>
                            <textarea class="form-control" name="Adres" required></textarea>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-success">Gönder</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">İptal</button>
                    </div>
                </form>
            </div>
        </div>
    </div>


</div>

@section Scripts {
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const buttons = document.querySelectorAll(".siparis-ver-buton");

            buttons.forEach(button => {
                button.addEventListener("click", function () {
                    document.getElementById("modalUrunAdi").value = this.getAttribute("data-urunadi") || '';
                    document.getElementById("modalUrunID").value = this.getAttribute("data-id") || '';
                    document.getElementById("modalKalinlik").value = this.getAttribute("data-kalinlik") || '';
                    document.getElementById("modalKenarIslemi").value = this.getAttribute("data-kenarislemi") || '';
                });
            });
        });
    </script>
}



